#!/usr/bin/env perl

use rlib '../support';
use Git::Repository;
use micrantha::prep::plugin qw(read_resolve_params write_return_value);

sub clone
{
    my ($path, $location) = read_resolve_params;

    Git::Repository->run( clone => $location => $path );

    write_return_value($path);
    
    return 0;
}

sub main
{
    my $plugin = micrantha::prep::plugin->new();

    $plugin->on_resolve(\&clone);

    return $plugin->execute();
}

exit(&main);
